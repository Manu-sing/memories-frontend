{"ast":null,"code":"var _jsxFileName = \"/Users/emanueleguarnaccia/memories-frontend/client/src/components/Form/Form.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport useStyles from \"./styles\";\nimport { TextField, Button, Typography, Paper, Box } from \"@mui/material\";\nimport { createPost, updatePost } from \"../../reducers/postReducer\";\nimport FileBase from \"react-file-base64\";\nimport { useDispatch } from \"react-redux\";\nimport { useSelector } from \"react-redux\";\nimport { setId } from \"../../reducers/idReducer\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Form = _ref => {\n  _s();\n\n  let {\n    setMessage,\n    setTypeOfMessage\n  } = _ref;\n  const posts = useSelector(state => state.posts);\n  const dispatch = useDispatch();\n  const [postInfo, setPostInfo] = useState({\n    creator: \"\",\n    title: \"\",\n    message: \"\",\n    tags: \"\",\n    selectedFile: \"\"\n  });\n  const classes = useStyles();\n  const currentId = useSelector(state => state.currentId);\n  const post = useSelector(state => currentId ? state.posts.find(post => post._id === currentId) : null);\n  useEffect(() => {\n    if (post) {\n      setPostInfo(post);\n    }\n  }, [post]);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (currentId) {\n      dispatch(updatePost(setMessage, setTypeOfMessage, currentId, postInfo));\n    } else {\n      dispatch(createPost(setMessage, setTypeOfMessage, postInfo));\n    }\n\n    clear();\n  };\n\n  const clear = () => {\n    dispatch(setId(null));\n    setPostInfo({\n      creator: \"\",\n      title: \"\",\n      message: \"\",\n      tags: \"\",\n      selectedFile: \"\"\n    });\n  };\n\n  if (!posts.length) {\n    return null;\n  } else {\n    return /*#__PURE__*/_jsxDEV(Paper, {\n      className: classes.paper,\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        autoComplete: \"off\",\n        noValidate: true,\n        className: `{classes.root} {classes.form}`,\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          textAlign: \"center\",\n          children: [currentId ? \"Editing\" : \"Creating\", \" a Memory\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          margin: \"dense\",\n          name: \"creator\",\n          variant: \"outlined\",\n          label: \"Creator\",\n          fullWidth: true,\n          value: postInfo.creator,\n          onChange: e => setPostInfo({ ...postInfo,\n            creator: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          margin: \"dense\",\n          name: \"title\",\n          variant: \"outlined\",\n          label: \"Title\",\n          fullWidth: true,\n          value: postInfo.title,\n          onChange: e => setPostInfo({ ...postInfo,\n            title: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          margin: \"dense\",\n          name: \"message\",\n          variant: \"outlined\",\n          label: \"Message\",\n          fullWidth: true,\n          value: postInfo.message,\n          onChange: e => setPostInfo({ ...postInfo,\n            message: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          margin: \"dense\",\n          name: \"tags\",\n          variant: \"outlined\",\n          label: \"Tags\",\n          fullWidth: true,\n          value: postInfo.tags,\n          onChange: e => setPostInfo({ ...postInfo,\n            tags: e.target.value.split(\",\")\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.fileInput,\n          children: /*#__PURE__*/_jsxDEV(FileBase, {\n            type: \"file\",\n            multiple: false,\n            onDone: _ref2 => {\n              let {\n                base64\n              } = _ref2;\n              return setPostInfo({ ...postInfo,\n                selectedFile: base64\n              });\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          marginBottom: 1,\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            className: classes.buttonSubmit,\n            variant: \"contained\",\n            color: \"primary\",\n            size: \"large\",\n            type: \"submit\",\n            fullWidth: true,\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          marginBottom: 1,\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            color: \"secondary\",\n            size: \"small\",\n            onClick: clear,\n            fullWidth: true,\n            children: \"Clear\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this);\n  }\n};\n\n_s(Form, \"WdFGF5NzowleIiCSo0Xvd3ChJxg=\", false, function () {\n  return [useSelector, useDispatch, useStyles, useSelector, useSelector];\n});\n\n_c = Form;\nexport default Form;\n\nvar _c;\n\n$RefreshReg$(_c, \"Form\");","map":{"version":3,"names":["React","useState","useEffect","useStyles","TextField","Button","Typography","Paper","Box","createPost","updatePost","FileBase","useDispatch","useSelector","setId","Form","setMessage","setTypeOfMessage","posts","state","dispatch","postInfo","setPostInfo","creator","title","message","tags","selectedFile","classes","currentId","post","find","_id","handleSubmit","e","preventDefault","clear","length","paper","target","value","split","fileInput","base64","buttonSubmit"],"sources":["/Users/emanueleguarnaccia/memories-frontend/client/src/components/Form/Form.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport useStyles from \"./styles\";\nimport { TextField, Button, Typography, Paper, Box } from \"@mui/material\";\nimport { createPost, updatePost } from \"../../reducers/postReducer\";\nimport FileBase from \"react-file-base64\";\nimport { useDispatch } from \"react-redux\";\nimport { useSelector } from \"react-redux\";\nimport { setId } from \"../../reducers/idReducer\";\n\nconst Form = ({ setMessage, setTypeOfMessage }) => {\n  const posts = useSelector((state) => state.posts);\n  const dispatch = useDispatch();\n  const [postInfo, setPostInfo] = useState({\n    creator: \"\",\n    title: \"\",\n    message: \"\",\n    tags: \"\",\n    selectedFile: \"\",\n  });\n  const classes = useStyles();\n  const currentId = useSelector((state) => state.currentId);\n  const post = useSelector((state) =>\n    currentId ? state.posts.find((post) => post._id === currentId) : null\n  );\n\n  useEffect(() => {\n    if (post) {\n      setPostInfo(post);\n    }\n  }, [post]);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    if (currentId) {\n      dispatch(updatePost(setMessage, setTypeOfMessage, currentId, postInfo));\n    } else {\n      dispatch(createPost(setMessage, setTypeOfMessage, postInfo));\n    }\n    clear();\n  };\n\n  const clear = () => {\n    dispatch(setId(null));\n    setPostInfo({\n      creator: \"\",\n      title: \"\",\n      message: \"\",\n      tags: \"\",\n      selectedFile: \"\",\n    });\n  };\n\n  if (!posts.length) {\n    return null;\n  } else {\n    return (\n      <Paper className={classes.paper}>\n        <form\n          autoComplete=\"off\"\n          noValidate\n          className={`{classes.root} {classes.form}`}\n          onSubmit={handleSubmit}\n        >\n          <Typography variant=\"h6\" textAlign=\"center\">\n            {currentId ? \"Editing\" : \"Creating\"} a Memory\n          </Typography>\n          <TextField\n            margin=\"dense\"\n            name=\"creator\"\n            variant=\"outlined\"\n            label=\"Creator\"\n            fullWidth\n            value={postInfo.creator}\n            onChange={(e) =>\n              setPostInfo({ ...postInfo, creator: e.target.value })\n            }\n          />\n          <TextField\n            margin=\"dense\"\n            name=\"title\"\n            variant=\"outlined\"\n            label=\"Title\"\n            fullWidth\n            value={postInfo.title}\n            onChange={(e) =>\n              setPostInfo({ ...postInfo, title: e.target.value })\n            }\n          />\n          <TextField\n            margin=\"dense\"\n            name=\"message\"\n            variant=\"outlined\"\n            label=\"Message\"\n            fullWidth\n            value={postInfo.message}\n            onChange={(e) =>\n              setPostInfo({ ...postInfo, message: e.target.value })\n            }\n          />\n          <TextField\n            margin=\"dense\"\n            name=\"tags\"\n            variant=\"outlined\"\n            label=\"Tags\"\n            fullWidth\n            value={postInfo.tags}\n            onChange={(e) =>\n              setPostInfo({\n                ...postInfo,\n                tags: e.target.value.split(\",\"),\n              })\n            }\n          />\n          <div className={classes.fileInput}>\n            <FileBase\n              type=\"file\"\n              multiple={false}\n              onDone={({ base64 }) =>\n                setPostInfo({ ...postInfo, selectedFile: base64 })\n              }\n            />\n          </div>\n          <Box marginBottom={1}>\n            <Button\n              className={classes.buttonSubmit}\n              variant=\"contained\"\n              color=\"primary\"\n              size=\"large\"\n              type=\"submit\"\n              fullWidth\n            >\n              Submit\n            </Button>\n          </Box>\n          <Box marginBottom={1}>\n            <Button\n              variant=\"contained\"\n              color=\"secondary\"\n              size=\"small\"\n              onClick={clear}\n              fullWidth\n            >\n              Clear\n            </Button>\n          </Box>\n        </form>\n      </Paper>\n    );\n  }\n};\n\nexport default Form;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}