{"ast":null,"code":"import _objectSpread from\"/Users/emanueleguarnaccia/memories-frontend/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React from\"react\";import Post from\"./Post/Post\";import useStyles from\"./styles\";import{Grid,CircularProgress}from\"@mui/material\";import{useDispatch,useSelector}from\"react-redux\";import{removePost,likeAPost}from\"../../reducers/postReducer\";import{setId}from\"../../reducers/idReducer\";import{jsx as _jsx}from\"react/jsx-runtime\";var Posts=function Posts(_ref){var setMessage=_ref.setMessage,setTypeOfMessage=_ref.setTypeOfMessage;var posts=useSelector(function(state){return state.posts;});var classes=useStyles();var dispatch=useDispatch();var _setCurrentId=function setCurrentId(id){console.log(\"I will update the post with the following current id: \".concat(id));dispatch(setId(id));};var deletePost=function deletePost(id){dispatch(removePost(setMessage,setTypeOfMessage,id));};var _likeThatPost=function likeThatPost(id){var postToAddaLikeTo=posts.find(function(p){return p._id===id;});var editedPost=_objectSpread(_objectSpread({},postToAddaLikeTo),{},{likeCount:postToAddaLikeTo.likeCount+1});dispatch(likeAPost(id,editedPost));};if(!posts.length){return/*#__PURE__*/_jsx(CircularProgress,{});}else{return/*#__PURE__*/_jsx(Grid,{className:classes.mainContainer,container:true,alignItems:\"stretch\",spacing:3,children:posts.map(function(p){return/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,children:/*#__PURE__*/_jsx(Post,{post:p,setCurrentId:function setCurrentId(){return _setCurrentId(p._id);},removePost:function removePost(){return deletePost(p._id);},likeThatPost:function likeThatPost(){return _likeThatPost(p._id);}})},p._id);})});}};export default Posts;","map":{"version":3,"names":["React","Post","useStyles","Grid","CircularProgress","useDispatch","useSelector","removePost","likeAPost","setId","Posts","setMessage","setTypeOfMessage","posts","state","classes","dispatch","setCurrentId","id","console","log","deletePost","likeThatPost","postToAddaLikeTo","find","p","_id","editedPost","likeCount","length","mainContainer","map"],"sources":["/Users/emanueleguarnaccia/memories-frontend/client/src/components/Posts/Posts.js"],"sourcesContent":["import React from \"react\";\nimport Post from \"./Post/Post\";\nimport useStyles from \"./styles\";\nimport { Grid, CircularProgress } from \"@mui/material\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { removePost, likeAPost } from \"../../reducers/postReducer\";\nimport { setId } from \"../../reducers/idReducer\";\n\nconst Posts = ({ setMessage, setTypeOfMessage }) => {\n  const posts = useSelector((state) => state.posts);\n  const classes = useStyles();\n  const dispatch = useDispatch();\n\n  const setCurrentId = (id) => {\n    console.log(`I will update the post with the following current id: ${id}`);\n    dispatch(setId(id));\n  };\n\n  const deletePost = (id) => {\n    dispatch(removePost(setMessage, setTypeOfMessage, id));\n  };\n\n  const likeThatPost = (id) => {\n    const postToAddaLikeTo = posts.find((p) => p._id === id);\n    const editedPost = {\n      ...postToAddaLikeTo,\n      likeCount: postToAddaLikeTo.likeCount + 1,\n    };\n    dispatch(likeAPost(id, editedPost));\n  };\n\n  if (!posts.length) {\n    return <CircularProgress />;\n  } else {\n    return (\n      <Grid\n        className={classes.mainContainer}\n        container\n        alignItems=\"stretch\"\n        spacing={3}\n      >\n        {posts.map((p) => (\n          <Grid item key={p._id} xs={12} sm={6}>\n            <Post\n              post={p}\n              setCurrentId={() => setCurrentId(p._id)}\n              removePost={() => deletePost(p._id)}\n              likeThatPost={() => likeThatPost(p._id)}\n            />\n          </Grid>\n        ))}\n      </Grid>\n    );\n  }\n};\n\nexport default Posts;\n"],"mappings":"uIAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,MAAOC,KAAP,KAAiB,aAAjB,CACA,MAAOC,UAAP,KAAsB,UAAtB,CACA,OAASC,IAAT,CAAeC,gBAAf,KAAuC,eAAvC,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,UAAT,CAAqBC,SAArB,KAAsC,4BAAtC,CACA,OAASC,KAAT,KAAsB,0BAAtB,C,2CAEA,GAAMC,MAAK,CAAG,QAARA,MAAQ,MAAsC,IAAnCC,WAAmC,MAAnCA,UAAmC,CAAvBC,gBAAuB,MAAvBA,gBAAuB,CAClD,GAAMC,MAAK,CAAGP,WAAW,CAAC,SAACQ,KAAD,QAAWA,MAAK,CAACD,KAAjB,EAAD,CAAzB,CACA,GAAME,QAAO,CAAGb,SAAS,EAAzB,CACA,GAAMc,SAAQ,CAAGX,WAAW,EAA5B,CAEA,GAAMY,cAAY,CAAG,QAAfA,aAAe,CAACC,EAAD,CAAQ,CAC3BC,OAAO,CAACC,GAAR,iEAAqEF,EAArE,GACAF,QAAQ,CAACP,KAAK,CAACS,EAAD,CAAN,CAAR,CACD,CAHD,CAKA,GAAMG,WAAU,CAAG,QAAbA,WAAa,CAACH,EAAD,CAAQ,CACzBF,QAAQ,CAACT,UAAU,CAACI,UAAD,CAAaC,gBAAb,CAA+BM,EAA/B,CAAX,CAAR,CACD,CAFD,CAIA,GAAMI,cAAY,CAAG,QAAfA,aAAe,CAACJ,EAAD,CAAQ,CAC3B,GAAMK,iBAAgB,CAAGV,KAAK,CAACW,IAAN,CAAW,SAACC,CAAD,QAAOA,EAAC,CAACC,GAAF,GAAUR,EAAjB,EAAX,CAAzB,CACA,GAAMS,WAAU,gCACXJ,gBADW,MAEdK,SAAS,CAAEL,gBAAgB,CAACK,SAAjB,CAA6B,CAF1B,EAAhB,CAIAZ,QAAQ,CAACR,SAAS,CAACU,EAAD,CAAKS,UAAL,CAAV,CAAR,CACD,CAPD,CASA,GAAI,CAACd,KAAK,CAACgB,MAAX,CAAmB,CACjB,mBAAO,KAAC,gBAAD,IAAP,CACD,CAFD,IAEO,CACL,mBACE,KAAC,IAAD,EACE,SAAS,CAAEd,OAAO,CAACe,aADrB,CAEE,SAAS,KAFX,CAGE,UAAU,CAAC,SAHb,CAIE,OAAO,CAAE,CAJX,UAMGjB,KAAK,CAACkB,GAAN,CAAU,SAACN,CAAD,qBACT,KAAC,IAAD,EAAM,IAAI,KAAV,CAAuB,EAAE,CAAE,EAA3B,CAA+B,EAAE,CAAE,CAAnC,uBACE,KAAC,IAAD,EACE,IAAI,CAAEA,CADR,CAEE,YAAY,CAAE,8BAAMR,cAAY,CAACQ,CAAC,CAACC,GAAH,CAAlB,EAFhB,CAGE,UAAU,CAAE,4BAAML,WAAU,CAACI,CAAC,CAACC,GAAH,CAAhB,EAHd,CAIE,YAAY,CAAE,8BAAMJ,cAAY,CAACG,CAAC,CAACC,GAAH,CAAlB,EAJhB,EADF,EAAgBD,CAAC,CAACC,GAAlB,CADS,EAAV,CANH,EADF,CAmBD,CACF,CA9CD,CAgDA,cAAehB,MAAf"},"metadata":{},"sourceType":"module"}