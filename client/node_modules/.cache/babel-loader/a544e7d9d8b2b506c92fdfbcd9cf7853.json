{"ast":null,"code":"import _regeneratorRuntime from\"/Users/emanueleguarnaccia/memories-frontend/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/emanueleguarnaccia/memories-frontend/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import axios from\"axios\";var baseUrl=\"/api/posts\";var token;var setToken=function setToken(){if(localStorage.getItem(\"profile\")){token=\"bearer \".concat(JSON.parse(localStorage.getItem(\"profile\")).token);}else{token=null;}return token;};// const setToken = (newToken) => {\n//   if (localStorage.getItem(\"profile\")) {\n//     token = `bearer ${newToken}`;\n//   } else {\n//     console.log(\"token is not saved in the local storage\");\n//   }\n// };\nvar getAll=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(baseUrl);case 2:response=_context.sent;return _context.abrupt(\"return\",response.data);case 4:case\"end\":return _context.stop();}}},_callee);}));return function getAll(){return _ref.apply(this,arguments);};}();var create=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(newObj){var config,response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:config={headers:{Authorization:setToken()}};_context2.next=3;return axios.post(baseUrl,newObj,config);case 3:response=_context2.sent;return _context2.abrupt(\"return\",response.data);case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function create(_x){return _ref2.apply(this,arguments);};}();var update=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(id,newObject){var config,response;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:config={headers:{Authorization:setToken()}};_context3.next=3;return axios.put(\"\".concat(baseUrl,\"/\").concat(id),newObject,config);case 3:response=_context3.sent;return _context3.abrupt(\"return\",response.data);case 5:case\"end\":return _context3.stop();}}},_callee3);}));return function update(_x2,_x3){return _ref3.apply(this,arguments);};}();var removeThePost=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(id){var config,response;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:config={headers:{Authorization:setToken()}};_context4.next=3;return axios.delete(\"\".concat(baseUrl,\"/\").concat(id),config);case 3:response=_context4.sent;return _context4.abrupt(\"return\",response.data);case 5:case\"end\":return _context4.stop();}}},_callee4);}));return function removeThePost(_x4){return _ref4.apply(this,arguments);};}();export default{getAll:getAll,create:create,removeThePost:removeThePost,update:update,setToken:setToken};","map":{"version":3,"names":["axios","baseUrl","token","setToken","localStorage","getItem","JSON","parse","getAll","get","response","data","create","newObj","config","headers","Authorization","post","update","id","newObject","put","removeThePost","delete"],"sources":["/Users/emanueleguarnaccia/memories-frontend/client/src/services/posts.js"],"sourcesContent":["import axios from \"axios\";\nconst baseUrl = \"/api/posts\";\n\nlet token;\n\nconst setToken = () => {\n  if (localStorage.getItem(\"profile\")) {\n    token = `bearer ${JSON.parse(localStorage.getItem(\"profile\")).token}`;\n  } else {\n    token = null;\n  }\n  return token;\n};\n\n// const setToken = (newToken) => {\n//   if (localStorage.getItem(\"profile\")) {\n//     token = `bearer ${newToken}`;\n//   } else {\n//     console.log(\"token is not saved in the local storage\");\n//   }\n// };\n\nconst getAll = async () => {\n  const response = await axios.get(baseUrl);\n  return response.data;\n};\n\nconst create = async (newObj) => {\n  const config = {\n    headers: { Authorization: setToken() },\n  };\n  const response = await axios.post(baseUrl, newObj, config);\n  return response.data;\n};\n\nconst update = async (id, newObject) => {\n  const config = {\n    headers: { Authorization: setToken() },\n  };\n  const response = await axios.put(`${baseUrl}/${id}`, newObject, config);\n  return response.data;\n};\n\nconst removeThePost = async (id) => {\n  const config = {\n    headers: { Authorization: setToken() },\n  };\n  const response = await axios.delete(`${baseUrl}/${id}`, config);\n  return response.data;\n};\n\nexport default { getAll, create, removeThePost, update, setToken };\n"],"mappings":"gSAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,GAAMC,QAAO,CAAG,YAAhB,CAEA,GAAIC,MAAJ,CAEA,GAAMC,SAAQ,CAAG,QAAXA,SAAW,EAAM,CACrB,GAAIC,YAAY,CAACC,OAAb,CAAqB,SAArB,CAAJ,CAAqC,CACnCH,KAAK,kBAAaI,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,SAArB,CAAX,EAA4CH,KAAzD,CAAL,CACD,CAFD,IAEO,CACLA,KAAK,CAAG,IAAR,CACD,CACD,MAAOA,MAAP,CACD,CAPD,CASA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,GAAMM,OAAM,4FAAG,wKACUR,MAAK,CAACS,GAAN,CAAUR,OAAV,CADV,QACPS,QADO,+CAENA,QAAQ,CAACC,IAFH,wDAAH,kBAANH,OAAM,0CAAZ,CAKA,GAAMI,OAAM,6FAAG,kBAAOC,MAAP,4IACPC,MADO,CACE,CACbC,OAAO,CAAE,CAAEC,aAAa,CAAEb,QAAQ,EAAzB,CADI,CADF,wBAIUH,MAAK,CAACiB,IAAN,CAAWhB,OAAX,CAAoBY,MAApB,CAA4BC,MAA5B,CAJV,QAIPJ,QAJO,iDAKNA,QAAQ,CAACC,IALH,0DAAH,kBAANC,OAAM,6CAAZ,CAQA,GAAMM,OAAM,6FAAG,kBAAOC,EAAP,CAAWC,SAAX,4IACPN,MADO,CACE,CACbC,OAAO,CAAE,CAAEC,aAAa,CAAEb,QAAQ,EAAzB,CADI,CADF,wBAIUH,MAAK,CAACqB,GAAN,WAAapB,OAAb,aAAwBkB,EAAxB,EAA8BC,SAA9B,CAAyCN,MAAzC,CAJV,QAIPJ,QAJO,iDAKNA,QAAQ,CAACC,IALH,0DAAH,kBAANO,OAAM,kDAAZ,CAQA,GAAMI,cAAa,6FAAG,kBAAOH,EAAP,4IACdL,MADc,CACL,CACbC,OAAO,CAAE,CAAEC,aAAa,CAAEb,QAAQ,EAAzB,CADI,CADK,wBAIGH,MAAK,CAACuB,MAAN,WAAgBtB,OAAhB,aAA2BkB,EAA3B,EAAiCL,MAAjC,CAJH,QAIdJ,QAJc,iDAKbA,QAAQ,CAACC,IALI,0DAAH,kBAAbW,cAAa,8CAAnB,CAQA,cAAe,CAAEd,MAAM,CAANA,MAAF,CAAUI,MAAM,CAANA,MAAV,CAAkBU,aAAa,CAAbA,aAAlB,CAAiCJ,MAAM,CAANA,MAAjC,CAAyCf,QAAQ,CAARA,QAAzC,CAAf"},"metadata":{},"sourceType":"module"}