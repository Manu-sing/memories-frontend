{"ast":null,"code":"import _slicedToArray from\"/Users/emanueleguarnaccia/memories-frontend/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{AppBar,Avatar,Toolbar,Typography,Button}from\"@mui/material\";import useStyles from\"./styles\";import{Link,useNavigate,useLocation}from\"react-router-dom\";// import { auth } from \"../Auth/firebase-config\";\n// import { signOut } from \"firebase/auth\";\nimport{useDispatch}from\"react-redux\";import{logOut}from\"../../reducers/auth\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var NavBar=function NavBar(){var dispatch=useDispatch();var _useState=useState(JSON.parse(localStorage.getItem(\"profile\"))),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var navigate=useNavigate();var classes=useStyles();var location=useLocation();// const signOutFromGoogle = () => {\n//   signOut(auth)\n//     .then(dispatch(logOut()))\n//     .catch((error) => {\n//       console.log(error);\n//     });\n//   navigate(\"/\");\n//   setUser(null);\n// };\nvar logUserOut=function logUserOut(){try{dispatch(logOut());navigate(\"/\");}catch(error){console.log(error);}};useEffect(function(){var token=user===null||user===void 0?void 0:user.token;setUser(JSON.parse(localStorage.getItem(\"profile\")));},[location]);return/*#__PURE__*/_jsxs(AppBar,{className:classes.appBar,position:\"static\",color:\"inherit\",children:[/*#__PURE__*/_jsx(\"div\",{className:classes.brandContainer,children:/*#__PURE__*/_jsx(Typography,{component:Link,to:\"/\",className:classes.heading,variant:\"h2\",aligh:\"center\",children:\"Ricordi\"})}),/*#__PURE__*/_jsx(Toolbar,{className:classes.toolbar,children:user?/*#__PURE__*/_jsxs(\"div\",{className:classes.profile,children:[user.token.length>500?/*#__PURE__*/_jsx(Avatar,{className:classes.purple,alt:user.name,src:user.url}):null,/*#__PURE__*/_jsx(Typography,{className:classes.username,variant:\"h6\",children:user.name}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",className:classes.logout,color:\"secondary\",onClick:logUserOut,children:\"Sign out\"})]}):/*#__PURE__*/_jsx(Button,{component:Link,to:\"/auth\",variant:\"contained\",color:\"primary\",children:\"Sign In\"})})]});};export default NavBar;","map":{"version":3,"names":["React","useEffect","useState","AppBar","Avatar","Toolbar","Typography","Button","useStyles","Link","useNavigate","useLocation","useDispatch","logOut","NavBar","dispatch","JSON","parse","localStorage","getItem","user","setUser","navigate","classes","location","logUserOut","error","console","log","token","appBar","brandContainer","heading","toolbar","profile","length","purple","name","url","username","logout"],"sources":["/Users/emanueleguarnaccia/memories-frontend/client/src/components/NavBar/NavBar.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { AppBar, Avatar, Toolbar, Typography, Button } from \"@mui/material\";\nimport useStyles from \"./styles\";\nimport { Link, useNavigate, useLocation } from \"react-router-dom\";\n// import { auth } from \"../Auth/firebase-config\";\n// import { signOut } from \"firebase/auth\";\nimport { useDispatch } from \"react-redux\";\nimport { logOut } from \"../../reducers/auth\";\n\nconst NavBar = () => {\n  const dispatch = useDispatch();\n  const [user, setUser] = useState(JSON.parse(localStorage.getItem(\"profile\")));\n  const navigate = useNavigate();\n  const classes = useStyles();\n  const location = useLocation();\n\n  // const signOutFromGoogle = () => {\n  //   signOut(auth)\n  //     .then(dispatch(logOut()))\n  //     .catch((error) => {\n  //       console.log(error);\n  //     });\n  //   navigate(\"/\");\n  //   setUser(null);\n  // };\n\n  const logUserOut = () => {\n    try {\n      dispatch(logOut());\n      navigate(\"/\");\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    const token = user?.token;\n    setUser(JSON.parse(localStorage.getItem(\"profile\")));\n  }, [location]);\n\n  return (\n    <AppBar className={classes.appBar} position=\"static\" color=\"inherit\">\n      <div className={classes.brandContainer}>\n        <Typography\n          component={Link}\n          to=\"/\"\n          className={classes.heading}\n          variant=\"h2\"\n          aligh=\"center\"\n        >\n          Ricordi\n        </Typography>\n      </div>\n      <Toolbar className={classes.toolbar}>\n        {user ? (\n          <div className={classes.profile}>\n            {user.token.length > 500 ? (\n              <Avatar className={classes.purple} alt={user.name} src={user.url}>\n                {/* {user.name.chartAt(0)} */}\n              </Avatar>\n            ) : null}\n\n            <Typography className={classes.username} variant=\"h6\">\n              {user.name}\n            </Typography>\n            <Button\n              variant=\"contained\"\n              className={classes.logout}\n              color=\"secondary\"\n              onClick={logUserOut}\n            >\n              Sign out\n            </Button>\n          </div>\n        ) : (\n          <Button\n            component={Link}\n            to=\"/auth\"\n            variant=\"contained\"\n            color=\"primary\"\n          >\n            Sign In\n          </Button>\n        )}\n      </Toolbar>\n    </AppBar>\n  );\n};\n\nexport default NavBar;\n"],"mappings":"wIAAA,MAAOA,MAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,MAAT,CAAiBC,MAAjB,CAAyBC,OAAzB,CAAkCC,UAAlC,CAA8CC,MAA9C,KAA4D,eAA5D,CACA,MAAOC,UAAP,KAAsB,UAAtB,CACA,OAASC,IAAT,CAAeC,WAAf,CAA4BC,WAA5B,KAA+C,kBAA/C,CACA;AACA;AACA,OAASC,WAAT,KAA4B,aAA5B,CACA,OAASC,MAAT,KAAuB,qBAAvB,C,wFAEA,GAAMC,OAAM,CAAG,QAATA,OAAS,EAAM,CACnB,GAAMC,SAAQ,CAAGH,WAAW,EAA5B,CACA,cAAwBV,QAAQ,CAACc,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,SAArB,CAAX,CAAD,CAAhC,wCAAOC,IAAP,eAAaC,OAAb,eACA,GAAMC,SAAQ,CAAGZ,WAAW,EAA5B,CACA,GAAMa,QAAO,CAAGf,SAAS,EAAzB,CACA,GAAMgB,SAAQ,CAAGb,WAAW,EAA5B,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,GAAMc,WAAU,CAAG,QAAbA,WAAa,EAAM,CACvB,GAAI,CACFV,QAAQ,CAACF,MAAM,EAAP,CAAR,CACAS,QAAQ,CAAC,GAAD,CAAR,CACD,CAAC,MAAOI,KAAP,CAAc,CACdC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACD,CACF,CAPD,CASAzB,SAAS,CAAC,UAAM,CACd,GAAM4B,MAAK,CAAGT,IAAH,SAAGA,IAAH,iBAAGA,IAAI,CAAES,KAApB,CACAR,OAAO,CAACL,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,SAArB,CAAX,CAAD,CAAP,CACD,CAHQ,CAGN,CAACK,QAAD,CAHM,CAAT,CAKA,mBACE,MAAC,MAAD,EAAQ,SAAS,CAAED,OAAO,CAACO,MAA3B,CAAmC,QAAQ,CAAC,QAA5C,CAAqD,KAAK,CAAC,SAA3D,wBACE,YAAK,SAAS,CAAEP,OAAO,CAACQ,cAAxB,uBACE,KAAC,UAAD,EACE,SAAS,CAAEtB,IADb,CAEE,EAAE,CAAC,GAFL,CAGE,SAAS,CAAEc,OAAO,CAACS,OAHrB,CAIE,OAAO,CAAC,IAJV,CAKE,KAAK,CAAC,QALR,qBADF,EADF,cAYE,KAAC,OAAD,EAAS,SAAS,CAAET,OAAO,CAACU,OAA5B,UACGb,IAAI,cACH,aAAK,SAAS,CAAEG,OAAO,CAACW,OAAxB,WACGd,IAAI,CAACS,KAAL,CAAWM,MAAX,CAAoB,GAApB,cACC,KAAC,MAAD,EAAQ,SAAS,CAAEZ,OAAO,CAACa,MAA3B,CAAmC,GAAG,CAAEhB,IAAI,CAACiB,IAA7C,CAAmD,GAAG,CAAEjB,IAAI,CAACkB,GAA7D,EADD,CAIG,IALN,cAOE,KAAC,UAAD,EAAY,SAAS,CAAEf,OAAO,CAACgB,QAA/B,CAAyC,OAAO,CAAC,IAAjD,UACGnB,IAAI,CAACiB,IADR,EAPF,cAUE,KAAC,MAAD,EACE,OAAO,CAAC,WADV,CAEE,SAAS,CAAEd,OAAO,CAACiB,MAFrB,CAGE,KAAK,CAAC,WAHR,CAIE,OAAO,CAAEf,UAJX,sBAVF,GADG,cAqBH,KAAC,MAAD,EACE,SAAS,CAAEhB,IADb,CAEE,EAAE,CAAC,OAFL,CAGE,OAAO,CAAC,WAHV,CAIE,KAAK,CAAC,SAJR,qBAtBJ,EAZF,GADF,CA+CD,CA9ED,CAgFA,cAAeK,OAAf"},"metadata":{},"sourceType":"module"}